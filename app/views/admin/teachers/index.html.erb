<h1>教师列表</h1>

<%= render "shared/admin_navbar" %>
<%= form_with url: admin_teachers_path, method: :get, local: true do |f| %>
  <%= f.label :query, "搜索教师" %>
  <%= f.text_field :query, value: params[:query] %>
  <%= f.submit "搜索" %>
<% end %>
<% if notice %>
  <p style="color: green;"><%= notice %></p>
<% end %>

<table>
  <thead>
  <tr>
    <th>ID</th>
    <th>姓名</th>
    <th>性别</th>
    <th>职务</th>
    <th>学校</th>
    <th>专业</th>
    <th>学历</th>
    <th>操作</th>
  </tr>
  </thead>
  <tbody>
  <% @teachers.each do |teacher| %>
    <tr>
      <td><%= teacher.id %></td>
      <td><%= teacher.name %></td>
      <td><%= teacher.gender %></td>
      <td><%= teacher.position %></td>
      <td><%= teacher.school.school_name if teacher.school %></td>
      <td><%= teacher.major.major_name if teacher.major %></td>
      <td><%= teacher.education.education_name if teacher.education %></td>
      <td style="display: flex;">
        <%= link_to "查看", admin_teacher_path(teacher) %> |
        <%= link_to "编辑", edit_admin_teacher_path(teacher) %> |
        <%= button_to "删除", admin_teacher_path(teacher), method: :delete, style: "cursor: pointer", data: { turbo_confirm: "确定删除吗？" } %>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>

<br>

<%= link_to "添加新教师", new_admin_teacher_path %>
